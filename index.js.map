{"version":3,"file":"index.js","sources":["../src/js/utils/constants.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/handlers/load_more.js","../src/js/handlers/form.js","../src/main.js"],"sourcesContent":["export const refs = {\n  formEl: document.querySelector('.form'),\n  galleryEl: document.querySelector('.gallery'),\n  loaderEl: document.querySelector('.loader'),\n  btnLoadMore: document.querySelector('.js-load-more-btn'),\n};\n\nexport const API_KEY = '?key=49168840-e3c83c6477977e837e7a2b39b';\n","import axios from 'axios';\nimport { API_KEY } from './utils/constants';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport async function fetchFotoCard(query) {\n  const params = {\n    q: query.trim(),\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 15,\n  };\n\n  const { data } = await axios.get(`/${API_KEY}`, { params });\n\n  return data;\n}\n","export function createMarkupGalleryCards(cards) {\n  return cards\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `\n    <li class=\"gallery-card\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n            <ul class=\"gallery-list\">\n                <li class=\"gallery-list-info\">\n                    <p class=\"gallery-info-name\">Likes</p>\n                    <p class=\"gallery-info-value\">${likes}</p>\n                </li>\n                <li class=\"gallery-list-info\">\n                    <p class=\"gallery-info-name\">Views</p>\n                    <p class=\"gallery-info-value\">${views}</p>\n                </li>\n                <li class=\"gallery-list-info\">\n                    <p class=\"gallery-info-name\">Comments</p>\n                    <p class=\"gallery-info-value\">${comments}</p>\n                </li>\n                <li class=\"gallery-list-info\">\n                    <p class=\"gallery-info-name\">Downloads</p>\n                    <p class=\"gallery-info-value\">${downloads}</p>\n                </li>\n            </ul>\n        </a>\n    </li>\n        `\n    )\n    .join('');\n}\n","export function handlerLoadMoreBtn(ev) {\n  console.log('click');\n}\n","import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\nimport { fetchFotoCard } from '../pixabay-api';\nimport { refs } from '../utils/constants';\nimport { createMarkupGalleryCards } from '../render-functions';\nimport { handlerLoadMoreBtn } from './load_more';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nexport function handlerSearch(ev) {\n  ev.preventDefault();\n\n  const form = ev.currentTarget;\n  const userQuery = form.elements.user_query.value.trim();\n\n  if (userQuery === '') {\n    iziToast.warning({\n      title: 'Caution',\n      message: 'Please enter a query!',\n      position: 'topRight',\n    });\n\n    return;\n  }\n  refs.loaderEl.classList.add('active');\n\n  return fetchFotoCard(userQuery)\n    .then(data => {\n      refs.loaderEl.classList.remove('active');\n\n      if (!data.total) {\n        refs.galleryEl.innerHTML = '';\n\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return [];\n      }\n\n      refs.galleryEl.innerHTML = createMarkupGalleryCards(data.hits);\n\n      lightbox.refresh();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      form.reset();\n      refs.btnLoadMore.classList.add('show');\n    });\n}\n","import { refs } from './js/utils/constants';\nimport { handlerSearch } from './js/handlers/form';\nimport { handlerLoadMoreBtn } from './js/handlers/load_more';\n\nrefs.formEl.addEventListener('submit', handlerSearch);\nrefs.btnLoadMore.addEventListener('click', handlerLoadMoreBtn);\n\n"],"names":["refs","API_KEY","axios","fetchFotoCard","query","params","data","createMarkupGalleryCards","cards","webformatURL","largeImageURL","tags","likes","views","comments","downloads","handlerLoadMoreBtn","ev","lightbox","SimpleLightbox","handlerSearch","form","userQuery","iziToast","err"],"mappings":"owBAAO,MAAMA,EAAO,CAClB,OAAQ,SAAS,cAAc,OAAO,EACtC,UAAW,SAAS,cAAc,UAAU,EAC5C,SAAU,SAAS,cAAc,SAAS,EAC1C,YAAa,SAAS,cAAc,mBAAmB,CACzD,EAEaC,EAAU,0CCJvBC,EAAM,SAAS,QAAU,2BAElB,eAAeC,EAAcC,EAAO,CACzC,MAAMC,EAAS,CACb,EAAGD,EAAM,KAAM,EACf,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,EAEQ,CAAE,KAAAE,CAAI,EAAK,MAAMJ,EAAM,IAAI,IAAID,CAAO,GAAI,CAAE,OAAAI,CAAQ,CAAA,EAE1D,OAAOC,CACT,CCjBO,SAASC,EAAyBC,EAAO,CAC9C,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA;AAAA,wCAEgCL,CAAa;AAAA,4CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,oDAIlBC,CAAK;AAAA;AAAA;AAAA;AAAA,oDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAMxD,EACA,KAAK,EAAE,CACZ,CCvCO,SAASC,EAAmBC,EAAI,CACrC,QAAQ,IAAI,OAAO,CACrB,CCKA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcH,EAAI,CAChCA,EAAG,eAAc,EAEjB,MAAMI,EAAOJ,EAAG,cACVK,EAAYD,EAAK,SAAS,WAAW,MAAM,OAEjD,GAAIC,IAAc,GAAI,CACpBC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,wBACT,SAAU,UAChB,CAAK,EAED,MACD,CACD,OAAAvB,EAAK,SAAS,UAAU,IAAI,QAAQ,EAE7BG,EAAcmB,CAAS,EAC3B,KAAKhB,GAAQ,CAGZ,GAFAN,EAAK,SAAS,UAAU,OAAO,QAAQ,EAEnC,CAACM,EAAK,MACR,OAAAN,EAAK,UAAU,UAAY,GAE3BuB,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACM,GAGTvB,EAAK,UAAU,UAAYO,EAAyBD,EAAK,IAAI,EAE7DY,EAAS,QAAO,CACtB,CAAK,EACA,MAAMM,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbH,EAAK,MAAK,EACVrB,EAAK,YAAY,UAAU,IAAI,MAAM,CAC3C,CAAK,CACL,CCpDAA,EAAK,OAAO,iBAAiB,SAAUoB,CAAa,EACpDpB,EAAK,YAAY,iBAAiB,QAASgB,CAAkB"}